<link rel="stylesheet" type="text/css" href="/themes/custom/athena/assets/styles/modules/_subscribePopup.css">

<button id="popBtn" style="display:none;">Pop Up</button>

<div id="register-pop-up" class="modal-reg">
    <div class="pop-up-content">
        <span class="close">&times;</span>
        <div class="content">
            <h2 class="pop-up-heading">Subscribe to our <span class="text-insight">Insights</span></h2>
            <p class="pop-up-para">Want to be notified wen our article is published? Enter
                your email address and name below to be the first to know.</p>
            <div class="input-content">
                <input type="text" id="email" placeholder="Email" class="email-input" required>
                <input type="text" id="name" placeholder="Name" class="name-input" required>
                <button class="submit-input" id="popthnksBtn">SIGNUP FOR THE NEWSLETTER NOW </button>
                <p class="sub-text">Dont’t Worry ! You will not be spammed</p>
            </div>
            <div class="social-content">
                <div class="social-icon-facebook">
                    <p><i class="fab fa-facebook-f"></i></p>
                </div>
                <div class="social-icon-google">
                    <p><i class="fab fa-google"></i></p>
                </div>
                <div class="social-icon-linkin">
                    <p><i class="fab fa-linkedin-in"></i></p>
                </div>
            </div>


        </div>
    </div>
</div>

<div id="thanks-up" class="thanks-modal">
    <div class="pop-up-content-thanks">
        <span class="lclose">&times;</span>
        <div class="thnks-conent">
            <img src="/themes/custom/athena/images/star-insights.svg">
            <h2 class="thanks-head">Thank you for Subscribing !</h2>
            <p class="thanks-para"> You’ve sucessfully subscribed to our <Span> Insights </Span></p>
            <Button class="okay">Okay</Button>
        </div>

    </div>
</div>
<script src="https://kit.fontawesome.com/31cbd00155.js" crossorigin="anonymous"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

<script type="text/javascript">

    jQuery('document').ready(function() {
        jQuery('#register-pop-up').show();
        jQuery('#thanks-up').hide();
        var event = new Event("click");
        popBtn.dispatchEvent(event);
    });

    jQuery('.close, .lclose, .okay').on('click', function() {
        jQuery('#register-pop-up').remove();
        jQuery('#thanks-up').remove();
    });

    jQuery('#popthnksBtn').on('click', function() {
        var emailval = jQuery('#register-pop-up #email').val();
        emailval = emailval.trim();
        var nameval = jQuery('#register-pop-up #name').val();
        nameval = nameval.trim();

        var flag = false;

        if (emailval == '') {
            flag = true;
            jQuery('#register-pop-up #email').css("border", "1px solid red");
        }
        else {
            if (!isEmail(emailval)) {
                flag = true;
                jQuery('#register-pop-up #email').css("border", "1px solid red");
            }
        }
        if (nameval == '') {
            flag = true;
            jQuery('#register-pop-up #name').css("border", "1px solid red");
        }

        if (!flag) {
            jQuery('#register-pop-up').hide();
            jQuery('#thanks-up').show();
        }

    });

    function isEmail(email) {
      var regex = /^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/;
      return regex.test(email);
    }

    var modal = document.getElementById("register-pop-up");

    window.onload = function () {
        setTimeout(function () {
            modal.style.display = "block";
        }, 10000);
    };


</script>
