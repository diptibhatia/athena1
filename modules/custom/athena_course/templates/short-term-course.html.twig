<div class="main-wrapper container-fluid p-0 academic-program-wrapper explore-courses-page">
    <div class="banner container-fluid banner-image p-0 bg-white">
        <img src="/themes/custom/athena/images/academic-program.png" class="col-lg-12 col-md-12 d-none d-lg-block d-md-block p-0" alt="Banner image">
        <img src="/themes/custom/athena/images/about-us-mobile-banner.png" class="col-lg-12 col-md-12 d-sm-block d-lg-none d-md-none p-0" alt="Banner image">
        <div class="container carousel-caption text-left pl-0">
            <h1 class="strong text-secondaryColor banner_title"><span class="" style="color:deeppink">Certification</span> programs</h1>
            <div class="text-secondaryColor banner_text">
                Microcredentials and programs allow you to pursue further study in a specialised field. Created or accredited by leading universities, microcredentials are professional credentials designed for you to build in-demand .
            </div>
            <div class="row pt-3">
                <div class="col-md-12">
                    <button class="float-left btn academic-btn btn-outline-violet mr-2">See all Courses</button>
                    <a class="float-left pt-1" href="#">See you course levels ></a>
                </div>
            </div>
        </div>
    </div>
    <div class="container-fluid academic-bg-wrap pb-3">
        <div class="pt-4 container">
            <div class="how-it-works row">
                {{ get_static_data('earning_a_degree', TRUE)|raw }}
                <div class="col-md-12 academic-content p-0 pt-4">
                    <!--Find your course heading and Search course Input: START-->
                    <div class="row pb-4 findCourseInput">
                        <div class="col-12 col-md-6 col-lg-8">
                            <h2 class="title">Find Your Course</h2>
                        </div>
                        <div class="col-12 col-md-6 col-lg-4">
                            <div class="row bg-white shadow-sm rounded input-area mr-0">
                                <input class="col-8" id="search" type="text" placeholder="Keywords / course name" onkeyup="return searchCourses(event)" /><button onclick="return searchCourseAction(event)" class="col-4 text-right">search <i class="fa fa-search" aria-hidden="true"></i></button>
                            </div>
                        </div>
                    </div>
                    <!--Find your course heading and Search course Input: END-->
                    <!--courses List: START-->
                    <div class="row shortterm-courses-area">
                        <div class="col-12 p-0">
                            <div class="shortterm-courses">

                                {% for node in nodes %}
                                <div class="item content" style="display:block;">
                                    <div class="course-item-hover">
                                        <div class="row">
                                            <div class="col-12 social-icons">
                                                <a href="http://www.facebook.com/sharer.php?u= {{ url('<front>') }}course/{{node.cid}}" target="_blank"><img src="/themes/custom/athena/images/icons/facebook.svg" /></a>
                                                <a href="http://twitter.com/share?url={{ url('<front>') }}course/{{node.cid}}" target="_blank"><img src="/themes/custom/athena/images/icons/twitter.svg" class="ml-2 mr-2" /></a>
                                                <a href="http://www.linkedin.com/shareArticle?mini=true&url={{ url('<front>') }}course/{{node.cid}}" target="_blank"><img src="/themes/custom/athena/images/icons/linkedin.svg" /></a>
                                            </div>
                                        </div>
                                        <div class="course-details col-12 text-center p-0">
                                            <h3>{{node.label}}</h3>
                                            <div class="course-info">
                                                <p class="small">{{node.field_certified_level}}</p>
                                                {{ node.body|striptags|truncate(100)}}…
                                            </div>
                                            <div class="col-12">
                                                <h4><a href="{{node.course_url}}">More Information ></a></h4>
                                            </div>
                                            <div class="col-12">
                                                <p class="small">{{node.field_students_enrolled}} <em>Students Enrolled</em></p>
                                            </div>
                                            <div class="col-12 button-area"><button>Start Now</button></div>
                                        </div>
                                    </div>
                                    <div class="course-item">
                                        <div class="row heading m-0">
                                            <div class="col-8">
                                                <h5>{{node.field_certified_level}}</h5>
                                            </div>
                                            <div class="col-4">
                                                <span class="free-text">{{node.field_course_amount}}</span>
                                            </div>
                                        </div>
                                        <div class="image">

                                            <img src="/themes/custom/athena/images/course-image2.png" alt="course-image">

                                        </div>
                                        <div class="course-details">
                                            <h3>{{node.label}}</h3>
                                            <div class="course-info">
                                                {{ node.body|striptags|truncate(100)}}…
                                            </div>
                                            <div class="row rating m-0">
                                                <div class="col-6 p-0">
                                                    <div class="my-rating"></div>
                                                </div>
                                                <div class="col-2 p-0">{{node.field_rating}}</div>
                                            </div>
                                            <div class="col-12 button-area"><button>Start Now</button></div>
                                        </div>
                                    </div>
                                </div>
                                {% endfor %}
                            </div>
                            <input type="hidden" id="pager" name="pager" value="1" />
                        </div>

                        {% if display_load_more %}
                            <div class="show_more_wrapper col-12 text-center">
                                <a id="showMore" href="javascript:void(0)">Show More</a>
                            </div>
                        {% endif %}

                    </div>
                    <!--courses List: END-->
                </div>
            </div>
        </div>
    </div>
</div>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script src="jquery.star-rating-svg.min.js"></script>

<script type="text/javascript">
    jQuery("#showMore").on('click', function() {
        var pagerVal = jQuery('#pager').val();
        var pager = parseInt(pagerVal);
        pager = pager + 1;
        var endpoint = Drupal.url('shortterm-courses/load-more/' + pager);
        var search_val = jQuery('#search').val();
        Drupal.ajax({
            'url': endpoint,
            'submit': {'search': search_val}
        }).execute();
        jQuery('#pager').val(pager);
        jQuery("#showMore").focus();
    });

    jQuery(".my-rating").starRating({
        emptyColor: 'lightgray',
        hoverColor: '#ffc300',
        activeColor: '#ffc300',
        initialRating: 4.5,
        //strokeColor: '#ffc300',
        //strokeWidth: 6,
        starSize: 20
    });

    function searchCourses(event) {
        if(event.which == 13) {
            searchCourseAction();
        }
    }

    function searchCourseAction() {
        var search_val = jQuery('#search').val();
        var endpoint = Drupal.url('shortterm-courses/search-data/' + search_val);
        Drupal.ajax({ 'url': endpoint }).execute();
        jQuery('#pager').val('1');
        return false;
    }

</script>

<script type="text/javascript">
/*
    $(document).ready(function(){

        $.expr[':'].icontains = function(a, i, m) {
          return $(a).text().toUpperCase()
              .indexOf(m[3].toUpperCase()) >= 0;
        };

        $( '#search' ).keyup( function() {
            var matches = $('.shortterm-courses' ).find('.content:icontains('+ $( this ).val() +') ' );
            $('.content').not( matches ).slideUp();
            matches.slideDown();
        });

        $(".content").slice(0, 16).show();
        $("#loadMore").on("click", function(e){
            e.preventDefault();
            $(".content:hidden").slice(0, 16).slideDown();
            if($(".content:hidden").length == 0) {
                $("#loadMore").text("No Content").addClass("noContent");
            }
        });
    });
*/
</script>
